
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Data Partitioning · Grokking Modern System Design Interview</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="Learn about data partitioning models along with their pros and cons.">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="changhanxie">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="trade-offs-in-databases.html" />
    
    
    <link rel="prev" href="data-replication/what-is-quorum-in-distributed-systems.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://kuweiguge.github.io/Grokking-Modern-System-Design-Interview-Gitbook" target="_blank" class="custom-link">github</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    System Design Interviews
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../system-design-interviews/what-is-a-system-design-interview.html">
            
                <a href="../system-design-interviews/what-is-a-system-design-interview.html">
            
                    
                    What Is a System Design Interview?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../system-design-interviews/how-to-prepare-for-success.html">
            
                <a href="../system-design-interviews/how-to-prepare-for-success.html">
            
                    
                    How to Prepare for Success
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../system-design-interviews/how-to-perform-well.html">
            
                <a href="../system-design-interviews/how-to-perform-well.html">
            
                    
                    How to Perform Well
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../abstractions/">
            
                <a href="../abstractions/">
            
                    
                    Abstractions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../abstractions/why-are-abstractions-important.html">
            
                <a href="../abstractions/why-are-abstractions-important.html">
            
                    
                    Why Are Abstractions Important?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../abstractions/network-abstractions-remote-procedure-calls.html">
            
                <a href="../abstractions/network-abstractions-remote-procedure-calls.html">
            
                    
                    Network Abstractions: Remote Procedure Calls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../abstractions/spectrum-of-consistency-models.html">
            
                <a href="../abstractions/spectrum-of-consistency-models.html">
            
                    
                    Spectrum of Consistency Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../abstractions/the-spectrum-of-failure-models.html">
            
                <a href="../abstractions/the-spectrum-of-failure-models.html">
            
                    
                    The Spectrum of Failure Models
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../non-functional-system-characteristics/">
            
                <a href="../non-functional-system-characteristics/">
            
                    
                    Non-functional System Characteristics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../non-functional-system-characteristics/availability.html">
            
                <a href="../non-functional-system-characteristics/availability.html">
            
                    
                    Availability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../non-functional-system-characteristics/reliability.html">
            
                <a href="../non-functional-system-characteristics/reliability.html">
            
                    
                    Reliability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../non-functional-system-characteristics/scalability.html">
            
                <a href="../non-functional-system-characteristics/scalability.html">
            
                    
                    Scalability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../non-functional-system-characteristics/maintainability.html">
            
                <a href="../non-functional-system-characteristics/maintainability.html">
            
                    
                    Maintainability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../non-functional-system-characteristics/fault-tolerance.html">
            
                <a href="../non-functional-system-characteristics/fault-tolerance.html">
            
                    
                    Fault Tolerance
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../back-of-the-envelope-calculations/">
            
                <a href="../back-of-the-envelope-calculations/">
            
                    
                    Back-of-the-envelope Calculations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../back-of-the-envelope-calculations/put-back-of-the-envelope-numbers-in-perspective.html">
            
                <a href="../back-of-the-envelope-calculations/put-back-of-the-envelope-numbers-in-perspective.html">
            
                    
                    Put Back-of-the-envelope Numbers in Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../back-of-the-envelope-calculations/page-2.html">
            
                <a href="../back-of-the-envelope-calculations/page-2.html">
            
                    
                    Examples of Resource Estimation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../building-blocks.html">
            
                <a href="../building-blocks.html">
            
                    
                    Building Blocks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../building-blocks/introduction-to-building-blocks-for-modern-system-design.html">
            
                <a href="../building-blocks/introduction-to-building-blocks-for-modern-system-design.html">
            
                    
                    Introduction to Building Blocks for Modern System Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../domain-name-system.html">
            
                <a href="../domain-name-system.html">
            
                    
                    Domain Name System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../domain-name-system/introduction-to-domain-name-system-dns.html">
            
                <a href="../domain-name-system/introduction-to-domain-name-system-dns.html">
            
                    
                    Introduction to Domain Name System (DNS)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../domain-name-system/how-the-domain-name-system-works.html">
            
                <a href="../domain-name-system/how-the-domain-name-system-works.html">
            
                    
                    How the Domain Name System Works
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../load-balancers.html">
            
                <a href="../load-balancers.html">
            
                    
                    Load Balancers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../load-balancers/introduction-to-load-balancers.html">
            
                <a href="../load-balancers/introduction-to-load-balancers.html">
            
                    
                    Introduction to Load Balancers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../load-balancers/global-and-local-load-balancing.html">
            
                <a href="../load-balancers/global-and-local-load-balancing.html">
            
                    
                    Global and Local Load Balancing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../load-balancers/advanced-details-of-load-balancers.html">
            
                <a href="../load-balancers/advanced-details-of-load-balancers.html">
            
                    
                    Advanced Details of Load Balancers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../databases.html">
            
                <a href="../databases.html">
            
                    
                    Databases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="introduction-to-databases.html">
            
                <a href="introduction-to-databases.html">
            
                    
                    Introduction to Databases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="types-of-databases/">
            
                <a href="types-of-databases/">
            
                    
                    Types of Databases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="types-of-databases/relational-database.html">
            
                <a href="types-of-databases/relational-database.html">
            
                    
                    Relational Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="types-of-databases/document-oriented-database.html">
            
                <a href="types-of-databases/document-oriented-database.html">
            
                    
                    Document-Oriented Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.3" data-path="types-of-databases/graph-database.html">
            
                <a href="types-of-databases/graph-database.html">
            
                    
                    Graph Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.4" data-path="types-of-databases/key-value-database.html">
            
                <a href="types-of-databases/key-value-database.html">
            
                    
                    Key-Value Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.5" data-path="types-of-databases/time-series-database.html">
            
                <a href="types-of-databases/time-series-database.html">
            
                    
                    Time Series Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.6" data-path="types-of-databases/wide-column-database.html">
            
                <a href="types-of-databases/wide-column-database.html">
            
                    
                    Wide-Column Database
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="data-replication/">
            
                <a href="data-replication/">
            
                    
                    Data Replication
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="data-replication/what-is-a-quorum.html">
            
                <a href="data-replication/what-is-a-quorum.html">
            
                    
                    What is a quorum?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.2" data-path="data-replication/what-is-quorum-in-distributed-systems.html">
            
                <a href="data-replication/what-is-quorum-in-distributed-systems.html">
            
                    
                    What is quorum in distributed systems?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.8.4" data-path="data-partitioning.html">
            
                <a href="data-partitioning.html">
            
                    
                    Data Partitioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="trade-offs-in-databases.html">
            
                <a href="trade-offs-in-databases.html">
            
                    
                    Trade-offs in Databases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="relational-databases.html">
            
                <a href="relational-databases.html">
            
                    
                    Relational Databases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="when-should-you-pick-a-relational-database.html">
            
                <a href="when-should-you-pick-a-relational-database.html">
            
                    
                    When should you pick a relational database?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="nosql-databases-introduction.html">
            
                <a href="nosql-databases-introduction.html">
            
                    
                    NoSQL Databases - Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="features-of-nosql-databases.html">
            
                <a href="features-of-nosql-databases.html">
            
                    
                    Features of NoSQL Databases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="when-to-pick-a-nosql-database.html">
            
                <a href="when-to-pick-a-nosql-database.html">
            
                    
                    When to pick a NoSQL Database?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="is-nosql-more-performant-than-sql.html">
            
                <a href="is-nosql-more-performant-than-sql.html">
            
                    
                    Is NoSQL More Performant Than SQL?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="polyglot-persistence.html">
            
                <a href="polyglot-persistence.html">
            
                    
                    Polyglot Persistence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="multi-model-databases.html">
            
                <a href="multi-model-databases.html">
            
                    
                    Multi-Model Databases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.14" data-path="eventual-consistency.html">
            
                <a href="eventual-consistency.html">
            
                    
                    Eventual Consistency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.15" data-path="strong-consistency.html">
            
                <a href="strong-consistency.html">
            
                    
                    Strong Consistency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.16" data-path="cap-theorem.html">
            
                <a href="cap-theorem.html">
            
                    
                    CAP Theorem
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../key-value-store/">
            
                <a href="../key-value-store/">
            
                    
                    Key-value Store
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../key-value-store/design-of-a-key-value-store.html">
            
                <a href="../key-value-store/design-of-a-key-value-store.html">
            
                    
                    Design of a Key-value Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../key-value-store/versioning-data-and-achieving-configurability.html">
            
                <a href="../key-value-store/versioning-data-and-achieving-configurability.html">
            
                    
                    Versioning Data and Achieving Configurability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../key-value-store/ensure-scalability-and-replication.html">
            
                <a href="../key-value-store/ensure-scalability-and-replication.html">
            
                    
                    Ensure Scalability and Replication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../key-value-store/enable-fault-tolerance-and-failure-detection.html">
            
                <a href="../key-value-store/enable-fault-tolerance-and-failure-detection.html">
            
                    
                    Enable Fault Tolerance and Failure Detection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../key-value-store/system-design-the-key-value-store.html">
            
                <a href="../key-value-store/system-design-the-key-value-store.html">
            
                    
                    System Design: The Key-value Store
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../content-delivery-network-cdn/">
            
                <a href="../content-delivery-network-cdn/">
            
                    
                    Content Delivery Network (CDN)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../content-delivery-network-cdn/system-design-the-content-delivery-network-cdn.html">
            
                <a href="../content-delivery-network-cdn/system-design-the-content-delivery-network-cdn.html">
            
                    
                    System Design: The Content Delivery Network (CDN)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../content-delivery-network-cdn/introduction-to-a-cdn.html">
            
                <a href="../content-delivery-network-cdn/introduction-to-a-cdn.html">
            
                    
                    Introduction to a CDN
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../content-delivery-network-cdn/design-of-a-cdn.html">
            
                <a href="../content-delivery-network-cdn/design-of-a-cdn.html">
            
                    
                    Design of a CDN
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../content-delivery-network-cdn/in-depth-investigation-of-cdn-part-1.html">
            
                <a href="../content-delivery-network-cdn/in-depth-investigation-of-cdn-part-1.html">
            
                    
                    In-depth Investigation of CDN: Part 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../content-delivery-network-cdn/in-depth-investigation-of-cdn-part-2.html">
            
                <a href="../content-delivery-network-cdn/in-depth-investigation-of-cdn-part-2.html">
            
                    
                    In-depth Investigation of CDN: Part 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../content-delivery-network-cdn/evaluation-of-cdns-design.html">
            
                <a href="../content-delivery-network-cdn/evaluation-of-cdns-design.html">
            
                    
                    Evaluation of CDN's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../sequencer/">
            
                <a href="../sequencer/">
            
                    
                    Sequencer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../sequencer/system-design-sequencer.html">
            
                <a href="../sequencer/system-design-sequencer.html">
            
                    
                    System Design: Sequencer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../sequencer/design-of-a-unique-id-generator.html">
            
                <a href="../sequencer/design-of-a-unique-id-generator.html">
            
                    
                    Design of a Unique ID Generator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../sequencer/unique-ids-with-causality.html">
            
                <a href="../sequencer/unique-ids-with-causality.html">
            
                    
                    Unique IDs with Causality
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../distributed-monitoring/">
            
                <a href="../distributed-monitoring/">
            
                    
                    Distributed Monitoring
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../distributed-monitoring/system-design-distributed-monitoring.html">
            
                <a href="../distributed-monitoring/system-design-distributed-monitoring.html">
            
                    
                    System Design: Distributed Monitoring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../distributed-monitoring/introduction-to-distributed-monitoring.html">
            
                <a href="../distributed-monitoring/introduction-to-distributed-monitoring.html">
            
                    
                    Introduction to Distributed Monitoring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../distributed-monitoring/prerequisites-of-a-monitoring-system.html">
            
                <a href="../distributed-monitoring/prerequisites-of-a-monitoring-system.html">
            
                    
                    Prerequisites of a Monitoring System
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../monitor-server-side-errors/">
            
                <a href="../monitor-server-side-errors/">
            
                    
                    Monitor Server-side Errors
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../monitor-server-side-errors/design-of-a-monitoring-system.html">
            
                <a href="../monitor-server-side-errors/design-of-a-monitoring-system.html">
            
                    
                    Design of a Monitoring System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../monitor-server-side-errors/detailed-design-of-a-monitoring-system.html">
            
                <a href="../monitor-server-side-errors/detailed-design-of-a-monitoring-system.html">
            
                    
                    Detailed Design of a Monitoring System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../monitor-server-side-errors/visualize-data-in-a-monitoring-system.html">
            
                <a href="../monitor-server-side-errors/visualize-data-in-a-monitoring-system.html">
            
                    
                    Visualize Data in a Monitoring System
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../monitor-client-side-errors/">
            
                <a href="../monitor-client-side-errors/">
            
                    
                    Monitor Client-side Errors
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../monitor-client-side-errors/focus-on-client-side-errors-in-a-monitoring-system.html">
            
                <a href="../monitor-client-side-errors/focus-on-client-side-errors-in-a-monitoring-system.html">
            
                    
                    Focus on Client-side Errors in a Monitoring System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../monitor-client-side-errors/design-of-a-client-side-monitoring-system.html">
            
                <a href="../monitor-client-side-errors/design-of-a-client-side-monitoring-system.html">
            
                    
                    Design of a Client-side Monitoring System
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../distributed-cache/">
            
                <a href="../distributed-cache/">
            
                    
                    Distributed Cache
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../distributed-cache/system-design-the-distributed-cache.html">
            
                <a href="../distributed-cache/system-design-the-distributed-cache.html">
            
                    
                    System Design: The Distributed Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="../distributed-cache/background-of-distributed-cache.html">
            
                <a href="../distributed-cache/background-of-distributed-cache.html">
            
                    
                    Background of Distributed Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="../distributed-cache/high-level-design-of-a-distributed-cache.html">
            
                <a href="../distributed-cache/high-level-design-of-a-distributed-cache.html">
            
                    
                    High-level Design of a Distributed Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="../distributed-cache/detailed-design-of-a-distributed-cache.html">
            
                <a href="../distributed-cache/detailed-design-of-a-distributed-cache.html">
            
                    
                    Detailed Design of a Distributed Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.5" data-path="../distributed-cache/evaluation-of-a-distributed-caches-design.html">
            
                <a href="../distributed-cache/evaluation-of-a-distributed-caches-design.html">
            
                    
                    Evaluation of a Distributed Cache's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.6" data-path="../distributed-cache/memcached-versus-redis.html">
            
                <a href="../distributed-cache/memcached-versus-redis.html">
            
                    
                    Memcached versus Redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../distributed-messaging-queue.html">
            
                <a href="../distributed-messaging-queue.html">
            
                    
                    Distributed Messaging Queue
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../distributed-messaging-queue/system-design-the-distributed-messaging-queue.html">
            
                <a href="../distributed-messaging-queue/system-design-the-distributed-messaging-queue.html">
            
                    
                    System Design: The Distributed Messaging Queue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="../distributed-messaging-queue/requirements-of-a-distributed-messaging-queues-design.html">
            
                <a href="../distributed-messaging-queue/requirements-of-a-distributed-messaging-queues-design.html">
            
                    
                    Requirements of a Distributed Messaging Queue’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="../distributed-messaging-queue/considerations-of-a-distributed-messaging-queues-design.html">
            
                <a href="../distributed-messaging-queue/considerations-of-a-distributed-messaging-queues-design.html">
            
                    
                    Considerations of a Distributed Messaging Queue’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="../distributed-messaging-queue/design-of-a-distributed-messaging-queue-part-1.html">
            
                <a href="../distributed-messaging-queue/design-of-a-distributed-messaging-queue-part-1.html">
            
                    
                    Design of a Distributed Messaging Queue: Part 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="../distributed-messaging-queue/design-of-a-distributed-messaging-queue-part-2.html">
            
                <a href="../distributed-messaging-queue/design-of-a-distributed-messaging-queue-part-2.html">
            
                    
                    Design of a Distributed Messaging Queue: Part 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="../distributed-messaging-queue/evaluation-of-a-distributed-messaging-queues-design.html">
            
                <a href="../distributed-messaging-queue/evaluation-of-a-distributed-messaging-queues-design.html">
            
                    
                    Evaluation of a Distributed Messaging Queue’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="../distributed-messaging-queue/quiz-on-the-distributed-messaging-queues-design.html">
            
                <a href="../distributed-messaging-queue/quiz-on-the-distributed-messaging-queues-design.html">
            
                    
                    Quiz on the Distributed Messaging Queue’s Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../pub-sub/">
            
                <a href="../pub-sub/">
            
                    
                    Pub-sub
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="../pub-sub/system-design-the-pub-sub-abstraction.html">
            
                <a href="../pub-sub/system-design-the-pub-sub-abstraction.html">
            
                    
                    System Design: The Pub-sub Abstraction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="../pub-sub/introduction-to-pub-sub.html">
            
                <a href="../pub-sub/introduction-to-pub-sub.html">
            
                    
                    Introduction to Pub-sub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="../pub-sub/design-of-a-pub-sub-system.html">
            
                <a href="../pub-sub/design-of-a-pub-sub-system.html">
            
                    
                    Design of a Pub-sub System
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../rate-limiter.html">
            
                <a href="../rate-limiter.html">
            
                    
                    Rate Limiter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../rate-limiter/system-design-the-rate-limiter.html">
            
                <a href="../rate-limiter/system-design-the-rate-limiter.html">
            
                    
                    System Design: The Rate Limiter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="../rate-limiter/requirements-of-a-rate-limiters-design.html">
            
                <a href="../rate-limiter/requirements-of-a-rate-limiters-design.html">
            
                    
                    Requirements of a Rate Limiter’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="../rate-limiter/design-of-a-rate-limiter.html">
            
                <a href="../rate-limiter/design-of-a-rate-limiter.html">
            
                    
                    Design of a Rate Limiter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="../rate-limiter/rate-limiter-algorithms.html">
            
                <a href="../rate-limiter/rate-limiter-algorithms.html">
            
                    
                    Rate Limiter Algorithms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="../rate-limiter/quiz-on-the-rate-limiters-design.html">
            
                <a href="../rate-limiter/quiz-on-the-rate-limiters-design.html">
            
                    
                    Quiz on the Rate Limiter’s Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../blob-store.html">
            
                <a href="../blob-store.html">
            
                    
                    Blob Store
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="../blob-store/system-design-a-blob-store.html">
            
                <a href="../blob-store/system-design-a-blob-store.html">
            
                    
                    System Design: A Blob Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="../blob-store/requirements-of-a-blob-stores-design.html">
            
                <a href="../blob-store/requirements-of-a-blob-stores-design.html">
            
                    
                    Requirements of a Blob Store's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.3" data-path="../blob-store/design-of-a-blob-store.html">
            
                <a href="../blob-store/design-of-a-blob-store.html">
            
                    
                    Design of a Blob Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.4" data-path="../blob-store/design-considerations-of-a-blob-store.html">
            
                <a href="../blob-store/design-considerations-of-a-blob-store.html">
            
                    
                    Design Considerations of a Blob Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.5" data-path="../blob-store/evaluation-of-a-blob-stores-design.html">
            
                <a href="../blob-store/evaluation-of-a-blob-stores-design.html">
            
                    
                    Evaluation of a Blob Store's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.6" data-path="../blob-store/quiz-on-the-blob-stores-design.html">
            
                <a href="../blob-store/quiz-on-the-blob-stores-design.html">
            
                    
                    Quiz on the Blob Store's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../distributed-search.html">
            
                <a href="../distributed-search.html">
            
                    
                    Distributed Search
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="../distributed-search/system-design-the-distributed-search.html">
            
                <a href="../distributed-search/system-design-the-distributed-search.html">
            
                    
                    System Design: The Distributed Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="../distributed-search/requirements-of-a-distributed-search-systems-design.html">
            
                <a href="../distributed-search/requirements-of-a-distributed-search-systems-design.html">
            
                    
                    Requirements of a Distributed Search System's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="../distributed-search/indexing-in-a-distributed-search.html">
            
                <a href="../distributed-search/indexing-in-a-distributed-search.html">
            
                    
                    Indexing in a Distributed Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="../distributed-search/design-of-a-distributed-search.html">
            
                <a href="../distributed-search/design-of-a-distributed-search.html">
            
                    
                    Design of a Distributed Search
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="../distributed-search/scaling-search-and-indexing.html">
            
                <a href="../distributed-search/scaling-search-and-indexing.html">
            
                    
                    Scaling Search and Indexing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="../distributed-search/evaluation-of-a-distributed-searchs-design.html">
            
                <a href="../distributed-search/evaluation-of-a-distributed-searchs-design.html">
            
                    
                    Evaluation of a Distributed Search's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../distributed-logging.html">
            
                <a href="../distributed-logging.html">
            
                    
                    Distributed Logging
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.21.1" data-path="../distributed-logging/system-design-distributed-logging.html">
            
                <a href="../distributed-logging/system-design-distributed-logging.html">
            
                    
                    System Design: Distributed Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.2" data-path="../distributed-logging/introduction-to-distributed-logging.html">
            
                <a href="../distributed-logging/introduction-to-distributed-logging.html">
            
                    
                    Introduction to Distributed Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.3" data-path="../distributed-logging/design-of-a-distributed-logging-service.html">
            
                <a href="../distributed-logging/design-of-a-distributed-logging-service.html">
            
                    
                    Design of a Distributed Logging Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../distributed-task-scheduler.html">
            
                <a href="../distributed-task-scheduler.html">
            
                    
                    Distributed Task Scheduler
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.22.1" data-path="../distributed-task-scheduler/system-design-the-distributed-task-scheduler.html">
            
                <a href="../distributed-task-scheduler/system-design-the-distributed-task-scheduler.html">
            
                    
                    System Design: The Distributed Task Scheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.2" data-path="../distributed-task-scheduler/requirements-of-a-distributed-task-schedulers-design.html">
            
                <a href="../distributed-task-scheduler/requirements-of-a-distributed-task-schedulers-design.html">
            
                    
                    Requirements of a Distributed Task Scheduler's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.3" data-path="../distributed-task-scheduler/design-of-a-distributed-task-scheduler.html">
            
                <a href="../distributed-task-scheduler/design-of-a-distributed-task-scheduler.html">
            
                    
                    Design of a Distributed Task Scheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.4" data-path="../distributed-task-scheduler/design-considerations-of-a-distributed-task-scheduler.html">
            
                <a href="../distributed-task-scheduler/design-considerations-of-a-distributed-task-scheduler.html">
            
                    
                    Design Considerations of a Distributed Task Scheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.5" data-path="../distributed-task-scheduler/evaluation-of-a-distributed-task-schedulers-design.html">
            
                <a href="../distributed-task-scheduler/evaluation-of-a-distributed-task-schedulers-design.html">
            
                    
                    Evaluation of a Distributed Task Scheduler's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="../sharded-counters.html">
            
                <a href="../sharded-counters.html">
            
                    
                    Sharded Counters
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.23.1" data-path="../sharded-counters/system-design-the-sharded-counters.html">
            
                <a href="../sharded-counters/system-design-the-sharded-counters.html">
            
                    
                    System Design: The Sharded Counters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.2" data-path="../sharded-counters/high-level-design-of-sharded-counters.html">
            
                <a href="../sharded-counters/high-level-design-of-sharded-counters.html">
            
                    
                    High-level Design of Sharded Counters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.3" data-path="../sharded-counters/detailed-design-of-sharded-counters.html">
            
                <a href="../sharded-counters/detailed-design-of-sharded-counters.html">
            
                    
                    Detailed Design of Sharded Counters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.4" data-path="../sharded-counters/quiz-on-the-sharded-counters-design.html">
            
                <a href="../sharded-counters/quiz-on-the-sharded-counters-design.html">
            
                    
                    Quiz on the Sharded Counters' Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="../concluding-the-building-blocks-discussion.html">
            
                <a href="../concluding-the-building-blocks-discussion.html">
            
                    
                    Concluding the Building Blocks Discussion
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.24.1" data-path="../concluding-the-building-blocks-discussion/wrapping-up-the-building-blocks-discussion.html">
            
                <a href="../concluding-the-building-blocks-discussion/wrapping-up-the-building-blocks-discussion.html">
            
                    
                    Wrapping Up the Building Blocks Discussion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.2" data-path="../concluding-the-building-blocks-discussion/the-reshaded-approach-for-system-design.html">
            
                <a href="../concluding-the-building-blocks-discussion/the-reshaded-approach-for-system-design.html">
            
                    
                    The RESHADED Approach for System Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.25" data-path="../design-youtube.html">
            
                <a href="../design-youtube.html">
            
                    
                    Design YouTube
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.25.1" data-path="../design-youtube/system-design-youtube.html">
            
                <a href="../design-youtube/system-design-youtube.html">
            
                    
                    System Design: YouTube
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.2" data-path="../design-youtube/requirements-of-youtubes-design.html">
            
                <a href="../design-youtube/requirements-of-youtubes-design.html">
            
                    
                    Requirements of YouTube's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.3" data-path="../design-youtube/design-of-youtube.html">
            
                <a href="../design-youtube/design-of-youtube.html">
            
                    
                    Design of YouTube
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.4" data-path="../design-youtube/evaluation-of-youtubes-design.html">
            
                <a href="../design-youtube/evaluation-of-youtubes-design.html">
            
                    
                    Evaluation of YouTube's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.5" data-path="../design-youtube/the-reality-is-more-complicated.html">
            
                <a href="../design-youtube/the-reality-is-more-complicated.html">
            
                    
                    The Reality Is More Complicated
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.6" data-path="../design-youtube/quiz-on-youtubes-design.html">
            
                <a href="../design-youtube/quiz-on-youtubes-design.html">
            
                    
                    Quiz on YouTube's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.26" data-path="../design-quora.html">
            
                <a href="../design-quora.html">
            
                    
                    Design Quora
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.26.1" data-path="../design-quora/system-design-quora.html">
            
                <a href="../design-quora/system-design-quora.html">
            
                    
                    System Design: Quora
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.2" data-path="../design-quora/requirements-of-quoras-design.html">
            
                <a href="../design-quora/requirements-of-quoras-design.html">
            
                    
                    Requirements of Quora's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.3" data-path="../design-quora/initial-design-of-quora.html">
            
                <a href="../design-quora/initial-design-of-quora.html">
            
                    
                    Initial Design of Quora
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.4" data-path="../design-quora/final-design-of-quora.html">
            
                <a href="../design-quora/final-design-of-quora.html">
            
                    
                    Final Design of Quora
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.5" data-path="../design-quora/evaluation-of-quoras-design.html">
            
                <a href="../design-quora/evaluation-of-quoras-design.html">
            
                    
                    Evaluation of Quora’s Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.27" data-path="../design-google-maps.html">
            
                <a href="../design-google-maps.html">
            
                    
                    Design Google Maps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.27.1" data-path="../design-google-maps/system-design-google-maps.html">
            
                <a href="../design-google-maps/system-design-google-maps.html">
            
                    
                    System Design: Google Maps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.2" data-path="../design-google-maps/requirements-of-google-maps-design.html">
            
                <a href="../design-google-maps/requirements-of-google-maps-design.html">
            
                    
                    Requirements of Google Maps' Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.3" data-path="../design-google-maps/design-of-google-maps.html">
            
                <a href="../design-google-maps/design-of-google-maps.html">
            
                    
                    Design of Google Maps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.4" data-path="../design-google-maps/challenges-of-google-maps-design.html">
            
                <a href="../design-google-maps/challenges-of-google-maps-design.html">
            
                    
                    Challenges of Google Maps' Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.5" data-path="../design-google-maps/detailed-design-of-google-maps.html">
            
                <a href="../design-google-maps/detailed-design-of-google-maps.html">
            
                    
                    Detailed Design of Google Maps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.6" data-path="../design-google-maps/evaluation-of-google-maps-design.html">
            
                <a href="../design-google-maps/evaluation-of-google-maps-design.html">
            
                    
                    Evaluation of Google Maps' Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.28" data-path="../design-a-proximity-service-yelp.html">
            
                <a href="../design-a-proximity-service-yelp.html">
            
                    
                    Design a Proximity Service / Yelp
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.28.1" data-path="../design-a-proximity-service-yelp/system-design-yelp.html">
            
                <a href="../design-a-proximity-service-yelp/system-design-yelp.html">
            
                    
                    System Design: Yelp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.2" data-path="../design-a-proximity-service-yelp/requirements-of-yelps-design.html">
            
                <a href="../design-a-proximity-service-yelp/requirements-of-yelps-design.html">
            
                    
                    Requirements of Yelp’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.3" data-path="../design-a-proximity-service-yelp/design-of-yelp.html">
            
                <a href="../design-a-proximity-service-yelp/design-of-yelp.html">
            
                    
                    Design of Yelp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.4" data-path="../design-a-proximity-service-yelp/design-considerations-of-yelp.html">
            
                <a href="../design-a-proximity-service-yelp/design-considerations-of-yelp.html">
            
                    
                    Design Considerations of Yelp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.5" data-path="../design-a-proximity-service-yelp/quiz-on-yelps-design.html">
            
                <a href="../design-a-proximity-service-yelp/quiz-on-yelps-design.html">
            
                    
                    Quiz on Yelp's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.29" data-path="../design-uber.html">
            
                <a href="../design-uber.html">
            
                    
                    Design Uber
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.29.1" data-path="../design-uber/system-design-uber.html">
            
                <a href="../design-uber/system-design-uber.html">
            
                    
                    System Design: Uber
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.2" data-path="../design-uber/requirements-of-ubers-design.html">
            
                <a href="../design-uber/requirements-of-ubers-design.html">
            
                    
                    Requirements of Uber’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.3" data-path="../design-uber/high-level-design-of-uber.html">
            
                <a href="../design-uber/high-level-design-of-uber.html">
            
                    
                    High-level Design of Uber
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.4" data-path="../design-uber/detailed-design-of-uber.html">
            
                <a href="../design-uber/detailed-design-of-uber.html">
            
                    
                    Detailed Design of Uber
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.5" data-path="../design-uber/payment-service-and-fraud-detection-in-uber-design.html">
            
                <a href="../design-uber/payment-service-and-fraud-detection-in-uber-design.html">
            
                    
                    Payment Service and Fraud Detection in Uber Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.6" data-path="../design-uber/evaluation-of-ubers-design.html">
            
                <a href="../design-uber/evaluation-of-ubers-design.html">
            
                    
                    Evaluation of Uber’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.7" data-path="../design-uber/quiz-on-ubers-design.html">
            
                <a href="../design-uber/quiz-on-ubers-design.html">
            
                    
                    Quiz on Uber's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.30" data-path="../design-twitter.html">
            
                <a href="../design-twitter.html">
            
                    
                    Design Twitter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.30.1" data-path="../design-twitter/system-design-twitter.html">
            
                <a href="../design-twitter/system-design-twitter.html">
            
                    
                    System Design: Twitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30.2" data-path="../design-twitter/requirements-of-twitters-design.html">
            
                <a href="../design-twitter/requirements-of-twitters-design.html">
            
                    
                    Requirements of Twitter’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30.3" data-path="../design-twitter/high-level-design-of-twitter.html">
            
                <a href="../design-twitter/high-level-design-of-twitter.html">
            
                    
                    High-level Design of Twitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30.4" data-path="../design-twitter/detailed-design-of-twitter.html">
            
                <a href="../design-twitter/detailed-design-of-twitter.html">
            
                    
                    Detailed Design of Twitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30.5" data-path="../design-twitter/client-side-load-balancer-for-twitter.html">
            
                <a href="../design-twitter/client-side-load-balancer-for-twitter.html">
            
                    
                    Client-side Load Balancer for Twitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30.6" data-path="../design-twitter/quiz-on-twitters-design.html">
            
                <a href="../design-twitter/quiz-on-twitters-design.html">
            
                    
                    Quiz on Twitter's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.31" data-path="../design-newsfeed-system.html">
            
                <a href="../design-newsfeed-system.html">
            
                    
                    Design Newsfeed System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.31.1" data-path="../design-newsfeed-system/system-design-newsfeed-system.html">
            
                <a href="../design-newsfeed-system/system-design-newsfeed-system.html">
            
                    
                    System Design: Newsfeed System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.31.2" data-path="../design-newsfeed-system/requirements-of-a-newsfeed-systems-design.html">
            
                <a href="../design-newsfeed-system/requirements-of-a-newsfeed-systems-design.html">
            
                    
                    Requirements of a Newsfeed System’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.31.3" data-path="../design-newsfeed-system/design-of-a-newsfeed-system.html">
            
                <a href="../design-newsfeed-system/design-of-a-newsfeed-system.html">
            
                    
                    Design of a Newsfeed System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.31.4" data-path="../design-newsfeed-system/evaluation-of-a-newsfeed-systems-design.html">
            
                <a href="../design-newsfeed-system/evaluation-of-a-newsfeed-systems-design.html">
            
                    
                    Evaluation of a Newsfeed System’s Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.32" data-path="../design-instagram.html">
            
                <a href="../design-instagram.html">
            
                    
                    Design Instagram
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.32.1" data-path="../design-instagram/system-design-instagram.html">
            
                <a href="../design-instagram/system-design-instagram.html">
            
                    
                    System Design: Instagram
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.2" data-path="../design-instagram/requirements-of-instagrams-design.html">
            
                <a href="../design-instagram/requirements-of-instagrams-design.html">
            
                    
                    Requirements of Instagram’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.3" data-path="../design-instagram/design-of-instagram.html">
            
                <a href="../design-instagram/design-of-instagram.html">
            
                    
                    Design of Instagram
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.4" data-path="../design-instagram/detailed-design-of-instagram.html">
            
                <a href="../design-instagram/detailed-design-of-instagram.html">
            
                    
                    Detailed Design of Instagram
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.5" data-path="../design-instagram/quiz-on-instagrams-design.html">
            
                <a href="../design-instagram/quiz-on-instagrams-design.html">
            
                    
                    Quiz on Instagram’s Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.33" data-path="../design-a-url-shortening-service-tinyurl.html">
            
                <a href="../design-a-url-shortening-service-tinyurl.html">
            
                    
                    Design a URL Shortening Service / TinyURL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.33.1" data-path="../design-a-url-shortening-service-tinyurl/system-design-tinyurl.html">
            
                <a href="../design-a-url-shortening-service-tinyurl/system-design-tinyurl.html">
            
                    
                    System Design: TinyURL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.2" data-path="../design-a-url-shortening-service-tinyurl/requirements-of-tinyurls-design.html">
            
                <a href="../design-a-url-shortening-service-tinyurl/requirements-of-tinyurls-design.html">
            
                    
                    Requirements of TinyURL's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.3" data-path="../design-a-url-shortening-service-tinyurl/design-and-deployment-of-tinyurl.html">
            
                <a href="../design-a-url-shortening-service-tinyurl/design-and-deployment-of-tinyurl.html">
            
                    
                    Design and Deployment of TinyURL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.4" data-path="../design-a-url-shortening-service-tinyurl/encoder-for-tinyurl.html">
            
                <a href="../design-a-url-shortening-service-tinyurl/encoder-for-tinyurl.html">
            
                    
                    Encoder for TinyURL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.5" data-path="../design-a-url-shortening-service-tinyurl/evaluation-of-tinyurls-design.html">
            
                <a href="../design-a-url-shortening-service-tinyurl/evaluation-of-tinyurls-design.html">
            
                    
                    Evaluation of TinyURL's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.6" data-path="../design-a-url-shortening-service-tinyurl/quiz-on-tinyurls-design.html">
            
                <a href="../design-a-url-shortening-service-tinyurl/quiz-on-tinyurls-design.html">
            
                    
                    Quiz on TinyURL's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.34" data-path="../design-a-web-crawler.html">
            
                <a href="../design-a-web-crawler.html">
            
                    
                    Design a Web Crawler
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.34.1" data-path="../design-a-web-crawler/system-design-web-crawler.html">
            
                <a href="../design-a-web-crawler/system-design-web-crawler.html">
            
                    
                    System Design: Web Crawler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.34.2" data-path="../design-a-web-crawler/requirements-of-a-web-crawlers-design.html">
            
                <a href="../design-a-web-crawler/requirements-of-a-web-crawlers-design.html">
            
                    
                    Requirements of a Web Crawler's Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.34.3" data-path="../design-a-web-crawler/design-of-a-web-crawler.html">
            
                <a href="../design-a-web-crawler/design-of-a-web-crawler.html">
            
                    
                    Design of a Web Crawler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.34.4" data-path="../design-a-web-crawler/design-improvements-of-a-web-crawler.html">
            
                <a href="../design-a-web-crawler/design-improvements-of-a-web-crawler.html">
            
                    
                    Design Improvements of a Web Crawler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.34.5" data-path="../design-a-web-crawler/evaluation-of-web-crawlers-design.html">
            
                <a href="../design-a-web-crawler/evaluation-of-web-crawlers-design.html">
            
                    
                    Evaluation of Web Crawler's Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.35" data-path="../design-whatsapp.html">
            
                <a href="../design-whatsapp.html">
            
                    
                    Design WhatsApp
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.35.1" data-path="../design-whatsapp/system-design-whatsapp.html">
            
                <a href="../design-whatsapp/system-design-whatsapp.html">
            
                    
                    System Design: WhatsApp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.2" data-path="../design-whatsapp/requirements-of-whatsapps-design.html">
            
                <a href="../design-whatsapp/requirements-of-whatsapps-design.html">
            
                    
                    Requirements of WhatsApp’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.3" data-path="../design-whatsapp/high-level-design-of-whatsapp.html">
            
                <a href="../design-whatsapp/high-level-design-of-whatsapp.html">
            
                    
                    High-level Design of WhatsApp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.4" data-path="../design-whatsapp/detailed-design-of-whatsapp.html">
            
                <a href="../design-whatsapp/detailed-design-of-whatsapp.html">
            
                    
                    Detailed Design of WhatsApp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.5" data-path="../design-whatsapp/evaluation-of-whatsapps-design.html">
            
                <a href="../design-whatsapp/evaluation-of-whatsapps-design.html">
            
                    
                    Evaluation of WhatsApp’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.6" data-path="../design-whatsapp/quiz-on-whatsapps-design.html">
            
                <a href="../design-whatsapp/quiz-on-whatsapps-design.html">
            
                    
                    Quiz on WhatsApp’s Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.36" data-path="../design-typeahead-suggestion.html">
            
                <a href="../design-typeahead-suggestion.html">
            
                    
                    Design Typeahead Suggestion
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.36.1" data-path="../design-typeahead-suggestion/system-design-the-typeahead-suggestion-system.html">
            
                <a href="../design-typeahead-suggestion/system-design-the-typeahead-suggestion-system.html">
            
                    
                    System Design: The Typeahead Suggestion System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.2" data-path="../design-typeahead-suggestion/requirements-of-the-typeahead-suggestion-systems-design.html">
            
                <a href="../design-typeahead-suggestion/requirements-of-the-typeahead-suggestion-systems-design.html">
            
                    
                    Requirements of the Typeahead Suggestion System’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.3" data-path="../design-typeahead-suggestion/high-level-design-of-the-typeahead-suggestion-system.html">
            
                <a href="../design-typeahead-suggestion/high-level-design-of-the-typeahead-suggestion-system.html">
            
                    
                    High-level Design of the Typeahead Suggestion System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.4" data-path="../design-typeahead-suggestion/data-structure-for-storing-prefixes.html">
            
                <a href="../design-typeahead-suggestion/data-structure-for-storing-prefixes.html">
            
                    
                    Data Structure for Storing Prefixes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.5" data-path="../design-typeahead-suggestion/detailed-design-of-the-typeahead-suggestion-system.html">
            
                <a href="../design-typeahead-suggestion/detailed-design-of-the-typeahead-suggestion-system.html">
            
                    
                    Detailed Design of the Typeahead Suggestion System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.6" data-path="../design-typeahead-suggestion/evaluation-of-the-typeahead-suggestion-systems-design.html">
            
                <a href="../design-typeahead-suggestion/evaluation-of-the-typeahead-suggestion-systems-design.html">
            
                    
                    Evaluation of the Typeahead Suggestion System’s Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.7" data-path="../design-typeahead-suggestion/quiz-on-the-typeahead-suggestion-systems-design.html">
            
                <a href="../design-typeahead-suggestion/quiz-on-the-typeahead-suggestion-systems-design.html">
            
                    
                    Quiz on the Typeahead Suggestion System’s Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.37" data-path="../design-a-collaborative-document-editing-service-google-docs.html">
            
                <a href="../design-a-collaborative-document-editing-service-google-docs.html">
            
                    
                    Design a Collaborative Document Editing Service / Google Docs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.37.1" data-path="../design-a-collaborative-document-editing-service-google-docs/system-design-google-docs.html">
            
                <a href="../design-a-collaborative-document-editing-service-google-docs/system-design-google-docs.html">
            
                    
                    System Design: Google Docs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.2" data-path="../design-a-collaborative-document-editing-service-google-docs/requirements-of-google-docs-design.html">
            
                <a href="../design-a-collaborative-document-editing-service-google-docs/requirements-of-google-docs-design.html">
            
                    
                    Requirements of Google Docs’ Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.3" data-path="../design-a-collaborative-document-editing-service-google-docs/design-of-google-docs.html">
            
                <a href="../design-a-collaborative-document-editing-service-google-docs/design-of-google-docs.html">
            
                    
                    Design of Google Docs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.4" data-path="../design-a-collaborative-document-editing-service-google-docs/concurrency-in-collaborative-editing.html">
            
                <a href="../design-a-collaborative-document-editing-service-google-docs/concurrency-in-collaborative-editing.html">
            
                    
                    Concurrency in Collaborative Editing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.5" data-path="../design-a-collaborative-document-editing-service-google-docs/evaluation-of-google-docs-design.html">
            
                <a href="../design-a-collaborative-document-editing-service-google-docs/evaluation-of-google-docs-design.html">
            
                    
                    Evaluation of Google Docs’ Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.38" data-path="../spectacular-failures.html">
            
                <a href="../spectacular-failures.html">
            
                    
                    Spectacular Failures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.38.1" data-path="../spectacular-failures/introduction-to-distributed-system-failures.html">
            
                <a href="../spectacular-failures/introduction-to-distributed-system-failures.html">
            
                    
                    Introduction to Distributed System Failures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.2" data-path="../spectacular-failures/facebook-whatsapp-instagram-oculus-outage.html">
            
                <a href="../spectacular-failures/facebook-whatsapp-instagram-oculus-outage.html">
            
                    
                    Facebook, WhatsApp, Instagram, Oculus Outage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.3" data-path="../spectacular-failures/aws-kinesis-outage-affecting-many-organizations.html">
            
                <a href="../spectacular-failures/aws-kinesis-outage-affecting-many-organizations.html">
            
                    
                    AWS Kinesis Outage Affecting Many Organizations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.4" data-path="../spectacular-failures/aws-wide-spread-outage.html">
            
                <a href="../spectacular-failures/aws-wide-spread-outage.html">
            
                    
                    AWS Wide Spread Outage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.39" data-path="../conclusions.html">
            
                <a href="../conclusions.html">
            
                    
                    Conclusions
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Data Partitioning</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="data-partitioning">Data Partitioning</h1>
<h3 id="why-do-we-partition-data-">Why do we partition data? <a href="#why-do-we-partition-data" id="why-do-we-partition-data"></a></h3>
<p>Data is an asset for any organization. Increasing data and concurrent read/write traffic to the data put scalability pressure on traditional databases. As a result, the latency and throughput are affected. Traditional databases are attractive due to their properties such as range queries, secondary indices, and transactions with the ACID properties.</p>
<p>At some point, a single node-based database isn&#x2019;t enough to tackle the load. We might need to distribute the data over many nodes but still export all the nice properties of relational databases. In practice, it has proved challenging to provide single-node database-like properties over a distributed database.</p>
<p>One solution is to move data to a NoSQL-like system. However, the historical codebase and its close cohesion with traditional databases make it an expensive problem to tackle.</p>
<p>Organizations might scale traditional databases by using a third-party solution. But often, integrating a third-party solution has its complexities. More importantly, there are abundant opportunities to optimize for the specific problem at hand and get much better performance than a general-purpose solution.</p>
<p>Data partitioning (or sharding) enables us to use multiple nodes where each node manages some part of the whole data. To handle increasing query rates and data amounts, we strive for balanced partitions and balanced read/write load.</p>
<p>We&#x2019;ll discuss different ways to partition data, related challenges, and their solutions in this lesson.</p>
<figure><img src="../.gitbook/assets/Screenshot 2023-08-21 at 4.52.59 AM.png" alt=""><figcaption></figcaption></figure>

<h3 id="sharding-">Sharding <a href="#sharding" id="sharding"></a></h3>
<p>To divide load among multiple nodes, we need to partition the data by a phenomenon known as <strong>partitioning</strong> or <strong>sharding</strong>. In this approach, we split a large dataset into smaller chunks of data stored at different nodes on our network.</p>
<p>The partitioning must be balanced so that each partition receives about the same amount of data. If partitioning is unbalanced, the majority of queries will fall into a few partitions. Partitions that are heavily loaded will create a system bottleneck. The efficacy of partitioning will be harmed because a significant portion of data retrieval queries will be sent to the nodes that carry the highly congested partitions. Such partitions are known as hotspots. Generally, we use the following two ways to shard the data:</p>
<ul>
<li>Vertical sharding</li>
<li>Horizontal sharding</li>
</ul>
<h4 id="vertical-sharding-">Vertical sharding <a href="#vertical-sharding" id="vertical-sharding"></a></h4>
<p>We can put different tables in various database instances, which might be running on a different physical server. We might break a table into multiple tables so that some columns are in one table while the rest are in the other. We should be careful if there are joins between multiple tables. We may like to keep such tables together on one shard.</p>
<p>Often, <strong>vertical sharding</strong> is used to increase the speed of data retrieval from a table consisting of columns with very wide text or a binary large object (blob). In this case, the column with large text or a blob is split into a different table.</p>
<p>As shown in the figure a couple paragraphs below, the <code>Employee</code> table is divided into two tables: a reduced <code>Employee</code> table and an <code>EmployeePicture</code> table. The <code>EmployePicture</code> table has just two columns, <code>EmployeID</code> and <code>Picture</code>, separated from the original table. Moreover, the primary key <code>EmpoloyeeID</code> of the <code>Employee</code> table is added in both partitioned tables. This makes the data read and write easier, and the reconstruction of the table is performed efficiently.</p>
<p>Vertical sharding has its intricacies and is more amenable to manual partitioning, where stakeholders carefully decide how to partition data. In comparison, horizontal sharding is suitable to automate even under dynamic conditions.</p>
<figure><img src="../.gitbook/assets/Screenshot 2023-08-21 at 4.53.33 AM.png" alt=""><figcaption></figcaption></figure>

<blockquote>
<p><strong>Note</strong>: Creating shards by moving specific tables of a database around is also a form of vertical sharding. Usually, those tables are put in the same shard because they often appear together in queries, for example, for joins. We will see an example of such a use-case <a href="https://www.educative.io/courses/grokking-modern-system-design-interview-for-engineers-managers/JEEyvLglK5J#Vertical-sharding-of-MySQL" target="_blank">ahead in the course</a>.</p>
</blockquote>
<h4 id="horizontal-sharding-">Horizontal sharding <a href="#horizontal-sharding" id="horizontal-sharding"></a></h4>
<p>At times, some tables in the databases become too big and affect read/write latency. <strong>Horizontal sharding</strong> or partitioning is used to divide a table into multiple tables by splitting data row-wise, as shown in the figure in the next section. Each partition of the original table distributed over database servers is called a <strong>shard</strong>. Usually, there are two strategies available:</p>
<ul>
<li>Key-range based sharding</li>
<li>Hash based sharding</li>
</ul>
<p><strong>Key-range based sharding</strong></p>
<p>In the <strong>key-range based sharding</strong>, each partition is assigned a continuous range of keys.</p>
<p>In the following figure, horizontal partitioning on the <code>Invoice</code> table is performed using the key-range based sharding with <code>Customer_Id</code> as the partition key. The two different colored tables represent the partitions.</p>
<figure><img src="../.gitbook/assets/Screenshot 2023-08-21 at 4.54.08 AM (1).png" alt=""><figcaption></figcaption></figure>

<p>Sometimes, a database consists of multiple tables bound by foreign key relationships. In such a case, the horizontal partition is performed using the same partition key on all tables in a relation. Tables (or subtables) that belong to the same partition key are distributed to one database shard. The following figure shows that several tables with the same partition key are placed in a single database shard:</p>
<figure><img src="../.gitbook/assets/Screenshot 2023-08-21 at 4.54.40 AM.png" alt=""><figcaption></figcaption></figure>

<p>The basic design techniques used in multi-table sharding are as follows:</p>
<ul>
<li>There&#x2019;s a partition key in the <code>Customer</code> mapping table. This table resides on each shard and stores the partition keys used in the shard. Applications create a mapping logic between the partition keys and database shards by reading this table from all shards to make the mapping efficient. Sometimes, applications use advanced algorithms to determine the location of a partition key belonging to a specific shard.</li>
<li>The partition key column, <code>Customer_Id</code>, is replicated in all other tables as a data isolation point. It has a trade-off between an impact on increased storage and locating the desired shards efficiently. Apart from this, it&#x2019;s helpful for data and workload distribution to different database shards. The data routing logic uses the partition key at the application tier to map queries specified for a database shard.</li>
<li>Primary keys are unique across all database shards to avoid key collision during data migration among shards and the merging of data in the online analytical processing (OLAP) environment.</li>
<li>The column <code>Creation_date</code> serves as the data consistency point, with an assumption that the clocks of all nodes are synchronized. This column is used as a criterion for merging data from all database shards into the global view when essential.</li>
</ul>
<p><strong>Advantages</strong></p>
<ul>
<li>Using key-range-based sharding method, the range-query-based scheme is easy to implement. We precisely know where (which node, which shard) to look for a specific range of keys.</li>
<li>Range queries can be performed using the partitioning keys, and those can be kept in partitions in sorted order. How exactly such a sorting happens over time as new data comes in is implementation specific.</li>
</ul>
<p><strong>Disadvantages</strong></p>
<ul>
<li>Range queries can&#x2019;t be performed using keys other than the partitioning key.</li>
<li>If keys aren&#x2019;t selected properly, some nodes may have to store more data due to an uneven distribution of the traffic.</li>
</ul>
<p><strong>Hash-based sharding</strong></p>
<p><strong>Hash-based sharding</strong> uses a hash-like function on an attribute, and it produces different values based on which attribute the partitioning is performed. The main concept is to use a hash function on the key to get a hash value and then mod by the number of partitions. Once we&#x2019;ve found an appropriate hash function for keys, we may give each partition a range of hashes (rather than a range of keys). Any key whose hash occurs inside that range will be kept in that partition.</p>
<p>In the illustration below, we use a hash function of Value mod=n. The n is the number of nodes, which is four. We allocate keys to nodes by checking the mod for each key. Keys with a mod value of 2 are allocated to node 2. Keys with a mod value of 1 are allocated to node 1. Keys with a mod value of 3 are allocated to node 3. Because there&#x2019;s no key with a mod value of 0, node 0 is left vacant.</p>
<p><strong>Advantages</strong></p>
<ul>
<li>Keys are uniformly distributed across the nodes.</li>
</ul>
<p><strong>Disadvantages</strong></p>
<ul>
<li>We can&#x2019;t perform range queries with this technique. Keys will be spread over all partitions.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> How many shards per database?</p>
<p>Empirically, we can determine how much each node can serve with acceptable performance. It can help us find out the maximum amount of data that we would like to keep on any one node. For example, if we find out that we can put a maximum of 50 GB of data on one node, we have the following:</p>
<p>Database size == 10 TB</p>
<p>Size of a single shard == 50 GB</p>
<p>Number of shards the database should be distributed in == 10 TB/50 GB == 200 shards</p>
</blockquote>
<p><strong>Consistent hashing</strong></p>
<p><strong>Consistent hashing</strong> assigns each server or item in a distributed hash table a place on an abstract circle, called a ring, irrespective of the number of servers in the table. This permits servers and objects to scale without compromising the system&#x2019;s overall performance.</p>
<p><strong>Advantages of consistent hashing</strong></p>
<ul>
<li>It&#x2019;s easy to scale horizontally.</li>
<li>It increases the throughput and improves the latency of the application.</li>
</ul>
<p><strong>Disadvantages of consistent hashing</strong></p>
<ul>
<li>Randomly assigning nodes in the ring may cause non-uniform distribution.</li>
</ul>
<h4 id="rebalance-the-partitions-">Rebalance the partitions <a href="#rebalance-the-partitions" id="rebalance-the-partitions"></a></h4>
<p>Query load can be imbalanced across the nodes due to many reasons, including the following:</p>
<ul>
<li>The distribution of the data isn&#x2019;t equal.</li>
<li>There&#x2019;s too much load on a single partition.</li>
<li>There&#x2019;s an increase in the query traffic, and we need to add more nodes to keep up.</li>
</ul>
<p>We can apply the following strategies to rebalance partitions.</p>
<p><strong>Avoid hash mod n</strong></p>
<figure><img src="../.gitbook/assets/Screenshot 2023-08-21 at 4.57.34 AM.png" alt=""><figcaption></figcaption></figure>

<p><strong>Fixed number of partitions</strong></p>
<p>In this approach, the number of partitions to be created is fixed at the time when we set our database up. We create a higher number of partitions than the nodes and assign these partitions to nodes. So, when a new node is added to the system, it can take a few partitions from the existing nodes until the partitions are equally divided.</p>
<p>There&#x2019;s a downside to this approach. The size of each partition grows with the total amount of data in the cluster since all the partitions contain a small part of the total data. If a partition is very small, it will result in too much overhead because we may have to make a large number of small-sized partitions, each costing us some overhead. If the partition is very large, rebalancing the nodes and recovering from node failures will be expensive. It&#x2019;s very important to choose the right number of partitions. A fixed number of partitions is used in Elasticsearch, Riak, and many more.</p>
<p><strong>Dynamic partitioning</strong></p>
<p>In this approach, when the size of a partition reaches the threshold, it&#x2019;s split equally into two partitions. One of the two split partitions is assigned to one node and the other one to another node. In this way, the load is divided equally. The number of partitions adapts to the overall data amount, which is an advantage of dynamic partitioning.</p>
<p>However, there&#x2019;s a downside to this approach. It&#x2019;s difficult to apply dynamic rebalancing while serving the reads and writes. This approach is used in HBase and MongoDB.</p>
<p><strong>Partition proportionally to nodes</strong></p>
<p>In this approach, the number of partitions is proportionate to the number of nodes, which means every node has fixed partitions. In earlier approaches, the number of partitions was dependent on the size of the dataset. That isn&#x2019;t the case here. While the number of nodes remains constant, the size of each partition rises according to the dataset size. However, as the number of nodes increases, the partitions shrink. When a new node enters the network, it splits a certain number of current partitions at random, then takes one half of the split and leaves the other half alone. This can result in an unfair split. This approach is used by Cassandra and Ketama.</p>
<p>Point to Ponder</p>
<p><strong>Question</strong></p>
<p>Who performs the rebalancing? Is it automatic or manual?</p>
<p>There are two ways to perform rebalancing: automatic and manual. In <strong>automatic rebalancing</strong>, there&#x2019;s no administrator. The system determines when to perform the partitions and when to move data from one node to another.</p>
<p>In <strong>manual rebalancing</strong>, the administrator determines when and how to perform the partitioning. Organizations perform rebalancing according to their needs. Some use automatic rebalancing, and some use manual.</p>
<h4 id="partitioning-and-secondary-indexes-">Partitioning and secondary indexes <a href="#partitioning-and-secondary-indexes" id="partitioning-and-secondary-indexes"></a></h4>
<p>We&#x2019;ve discussed key-value data model partitioning schemes in which the records are retrieved with primary keys. But what if we have to access the records through secondary indexes? Secondary indexes are the records that aren&#x2019;t identified by primary keys but are just a way of searching for some value. For example, the above <a href="https://www.educative.io/collection/page/10370001/4941429335392256/6254160546103296#key-range-based-sharding" target="_blank">illustration of horizontal partitioning</a> contains the customer table, searching for all customers with the same creation year.</p>
<p>We can partition with secondary indexes in the following ways.</p>
<p><strong>Partition secondary indexes by document</strong></p>
<p>Each partition is fully independent in this indexing approach. Each partition has its secondary indexes covering just the documents in that partition. It&#x2019;s unconcerned with the data held in other partitions. If we want to write anything to our database, we need to handle that partition only containing the document ID we&#x2019;re writing. It&#x2019;s also known as the local index. In the illustration below, there are three partitions, each having its own identity and data. If we want to get all the customer IDs with the name <code>John</code>, we have to request from all partitions.</p>
<p>However, this type of querying on secondary indexes can be expensive. As a result of being restricted by the latency of a poor-performing partition, read query latencies may increase.</p>
<p>Partitioning secondary indexes by document</p>
<p><strong>Partition secondary indexes by the term</strong></p>
<p>Instead of creating a secondary index for each partition (a local index), we can make a global index for secondary terms that encompasses data from all partitions.</p>
<p>In the illustration below, we create indexes on names (the term on which we&#x2019;re partitioning) and store all the indexes for names on separated nodes. To get the <code>cust_id</code> of all the customers named <code>John</code>, we must determine where our term index is located. The <code>index 0</code> contains all the customers with names starting with &#x201C;A&#x201D; to &#x201C;M.&#x201D; The <code>index 1</code> includes all the customers with names beginning with &#x201C;N&#x201D; to &#x201C;Z.&#x201D; Because <code>John</code> lies in <code>index 0</code>, we fetch a list of <code>cust_id</code> with the name <code>John</code> from <code>index 0</code>.</p>
<p>Partitioning secondary indexes by the term is more read-efficient than partitioning secondary indexes by the document. This is because it only accesses the partition that contains the term. However, a single write in this approach affects multiple partitions, making the method write-intensive and complex.</p>
<p>Partitioning secondary indexes by term</p>
<h3 id="request-routing-">Request routing <a href="#request-routing" id="request-routing"></a></h3>
<p>We&#x2019;ve learned how to partition our data. However, one question arises here: How does a client know which node to connect to while making a request? The allocation of partitions to nodes varies after rebalancing. If we want to read a specific key, how do we know which IP address we need to connect to read?</p>
<p>This problem is also known as <strong>service discovery</strong>. Following are a few approaches to this problem:</p>
<ul>
<li>Allow the clients to request any node in the network. If that node doesn&#x2019;t contain the requested data, it forwards that request to the node that does contain the related data.</li>
<li>The second approach contains a routing tier. All the requests are first forwarded to the routing tier, and it determines which node to connect to fulfill the request.</li>
<li>The clients already have the information related to partitioning and which partition is connected to which node. So, they can directly contact the node that contains the data they need.</li>
</ul>
<p>In all of these approaches, the main challenge is to determine how these components know about updates in the partitioning of the nodes.</p>
<h4 id="zookeeper-">ZooKeeper <a href="#zookeeper" id="zookeeper"></a></h4>
<p>To track changes in the cluster, many distributed data systems need a separate management server like ZooKeeper. <strong>Zookeeper</strong> keeps track of all the mappings in the network, and each node connects to ZooKeeper for the information. Whenever there&#x2019;s a change in the partitioning, or a node is added or removed, ZooKeeper gets updated and notifies the routing tier about the change. HBase, Kafka and SolrCloud use ZooKeeper.</p>
<h3 id="conclusion-">Conclusion <a href="#conclusion" id="conclusion"></a></h3>
<p>For all current distributed systems, partitioning has become the standard protocol. Because systems contain increasing amounts of data, partitioning the data makes sense since it speeds up both writes and reads. It increases the system&#x2019;s availability, scalability, and performance.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="data-replication/what-is-quorum-in-distributed-systems.html" class="navigation navigation-prev " aria-label="Previous page: What is quorum in distributed systems?">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="trade-offs-in-databases.html" class="navigation navigation-next " aria-label="Next page: Trade-offs in Databases">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"description":"Learn about data partitioning models along with their pros and cons.","title":"Data Partitioning","level":"1.8.4","depth":2,"next":{"title":"Trade-offs in Databases","level":"1.8.5","depth":2,"path":"databases/trade-offs-in-databases.md","ref":"databases/trade-offs-in-databases.md","articles":[]},"previous":{"title":"What is quorum in distributed systems?","level":"1.8.3.2","depth":3,"path":"databases/data-replication/what-is-quorum-in-distributed-systems.md","ref":"databases/data-replication/what-is-quorum-in-distributed-systems.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters-small","page-toc","-lunr","-search","search-plus","code"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"expandable-chapters-small":{},"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","showByDefault":true},"search-plus":{},"code":{"copyButtons":true},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"changhanxie","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Grokking Modern System Design Interview","language":"zh-hans","links":{"sidebar":{"github":"https://kuweiguge.github.io/Grokking-Modern-System-Design-Interview-Gitbook"}},"gitbook":">= 3.2.2","description":"Grokking Modern System Design Interview"},"file":{"path":"databases/data-partitioning.md","mtime":"2023-09-27T05:00:25.418Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-09-27T05:01:00.962Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

